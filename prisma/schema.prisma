generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../database.db"
}

model Client {
  id             Int        @id @default(autoincrement())
  ip             String
  mac            String?    @unique
  hostname       String?    @unique
  alias          String     @default("")
  screenshotPath String     @default("")
  bookmarks      Bookmark[]

  LayoutColumn LayoutColumn[]
  @@map("client")
}

model Bookmark {
  id      Int      @id @default(autoincrement())
  url     String?
  clients Client[]

  @@map("bookmark")
}

model Layout {
  id   Int         @id @default(autoincrement())
  name String
  rows LayoutRow[]
}

model LayoutRow {
  id       Int            @id @default(autoincrement())
  position Int
  layout   Layout         @relation(fields: [layoutId], references: [id])
  layoutId Int
  columns  LayoutColumn[]
}

model LayoutColumn {
  id       Int       @id @default(autoincrement())
  position Int
  rowId    Int
  row      LayoutRow @relation(fields: [rowId], references: [id])
  clientId Int
  client   Client    @relation(fields: [clientId], references: [id])
}
